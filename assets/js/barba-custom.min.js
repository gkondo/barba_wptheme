var links=document.querySelectorAll("a[href]");var cbk=function(a){if(a.currentTarget.href===window.location.href){a.preventDefault();a.stopPropagation();
}};for(var i=0;i<links.length;i++){links[i].addEventListener("click",cbk);}Barba.Dispatcher.on("newPageReady",function(currentStatus,oldStatus,barbaContainer,newPageRawHTML){if(Barba.HistoryManager.history.length===1){return;
}var $newPageHead=$("<head />").html($.parseHTML(newPageRawHTML.match(/<head[^>]*>([\s\S.]*)<\/head>/i)[0],document,true));var headTags=["link[rel='canonical']","link[rel='shortlink']","link[rel='alternate']","meta[name='description']","meta[property^='og']","meta[name^='twitter']","meta[name='robots']"].join(",");
$("head").find(headTags).remove();$newPageHead.find(headTags).appendTo("head");if(typeof ga==="function"){ga("send","pageview",location.pathname);}var script=document.createElement("script");
script.src="http://example.com/hoge.js";document.body.appendChild(script);var temp=document.createElement("div");temp.innerHTML=newPageRawHTML;var hoge=temp.querySelector(".hoge script");
if(hoge!=null){eval(hoge.innerHTML);}});var fadeTransition=Barba.BaseTransition.extend({start:function(){Promise.all([this.newContainerLoading,this.fadeOut()]).then(this.fadeIn.bind(this));
},fadeOut:function(){return $(this.oldContainer).animate({opacity:0},{duration:"slow"}).promise();},fadeIn:function(){document.body.scrollTop=0;var b=this;
var a=$(this.newContainer);$(this.oldContainer).hide();a.css({visibility:"visible",opacity:0});a.animate({opacity:1},200,function(){b.done();});}});Barba.Pjax.getTransition=function(){return fadeTransition;
};$().ready(function(){Barba.Pjax.start();Barba.Prefetch.init();});